<!DOCTYPE html>
<html lang="ja">

<!-- This html and js was build with copilot-->

	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>quickARSC: ARSC Viewer r226.0rep</title>
		<!-- Plotly CDN -->
		<script src="js/plotly-v1.58.5.min.js"></script>
		<link rel="stylesheet" href="css/styles.css">
	</head>
	<body>
		<header>
			<h1>quickARSC: ARSC Viewer r226.0rep</h1>
			<p class="lead">You can filter the pre-computed N, C, and S-ARSC data for GTDB r226.0 representative species by taxonomic levels and download the filtered dataset as a TSV file.<br>
                Optional: If you upload an amino acid FASTA file (.fa, .faa, .fasta), the plot will display the N, C, and S-ARSC values for the uploaded protein/proteome.</p>
		</header>

		<!-- Prominent Y-axis selector placed above other filters -->
        <!-- user FASTA upload (single genome) -->
		<div>
            <label style="display:flex;align-items:center;gap:8px">Upload Amino Acid FASTA:
                <input id="fastaFile" type="file" accept=".fa,.faa,.fasta" />
                <span id="fastaName" style="font-size:0.9rem;color:#444;margin-left:6px"></span>
            </label>
		</div>
		<div class="top-controls">
			<label class="y-control">Y axis:
				<select id="ySelect"><option value="N_ARSC">N-ARSC</option><option value="C_ARSC">C-ARSC</option><option value="S_ARSC">S-ARSC</option></select>
			</label>
			<label class="marker-control">Marker size:
				<input id="markerSize" type="range" min="4" max="20" value="8" />
				<span id="markerSizeVal">8</span>
			</label>
			<label class="marker-control">Alpha:
				<input id="markerAlpha" type="range" min="0.05" max="1" step="0.05" value="1.00" />
				<span id="markerAlphaVal">1.00</span>
			</label>
			<div class="top-actions">
				<button id="resetBtn" class="secondary">Reset</button>
				<button id="downloadBtn" class="primary">Download Filtered TSV</button>
			</div>
		</div>

		<section class="controls" aria-label="filters">
			<!-- loading indicator shown while TSV is fetched -->
			<div id="loading" role="status" aria-live="polite" style="display:none; margin-bottom:8px;">
				Loading dataâ€¦
			</div>
			<div class="control"><label>domain
				<input list="domainList" id="domainSearch" placeholder="search..." />
				<datalist id="domainList"></datalist>
			</label></div>
			<div class="control"><label>phylum
				<input list="phylumList" id="phylumSearch" placeholder="search..." />
				<datalist id="phylumList"></datalist>
			</label></div>
			<div class="control"><label>class
				<input list="classList" id="classSearch" placeholder="search..." />
				<datalist id="classList"></datalist>
			</label></div>
			<div class="control"><label>order
				<input list="orderList" id="orderSearch" placeholder="search..." />
				<datalist id="orderList"></datalist>
			</label></div>
			<div class="control"><label>family
				<input list="familyList" id="familySearch" placeholder="search..." />
				<datalist id="familyList"></datalist>
			</label></div>
			<div class="control"><label>genus
				<input list="genusList" id="genusSearch" placeholder="search..." />
				<datalist id="genusList"></datalist>
			</label></div>

		</section>

		<main>
			<div id="plot"></div>
		</main>

		<footer>
			<div class="small">Repository: <a href="https://github.com/stsnsn/quickARSC" target="_blank" rel="noopener">https://github.com/stsnsn/quickARSC</a></div>
            <div class="small">Full table: <a href="./data/arsc_gtdb_r226rep.tsv" target="_blank" rel="noopener">r226rep</a>, <a href="./data/arsc_gtdb_r207rep.tsv" target="_blank" rel="noopener">r207rep</a></div>
		</footer>

		<script src="js/arsc_scatterplot.js"></script>
	</body>
</html>

